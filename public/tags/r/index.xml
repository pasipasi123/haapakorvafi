<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>R on Pasi Haapakorva</title>
    <link>/tags/r/</link>
    <description>Recent content in R on Pasi Haapakorva</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>Pasi Haapakorva</copyright>
    <lastBuildDate>Thu, 18 Oct 2018 00:00:00 +0000</lastBuildDate>
    
	<atom:link href="/tags/r/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Kuinka analysoin useaa excel-taulukkoa kerralla R:llä</title>
      <link>/2018/10/18/2018-10-18-kuinka-analysoin-useaa-excel-taulukkoa-kerralla-r-ll%C3%A4/</link>
      <pubDate>Thu, 18 Oct 2018 00:00:00 +0000</pubDate>
      
      <guid>/2018/10/18/2018-10-18-kuinka-analysoin-useaa-excel-taulukkoa-kerralla-r-ll%C3%A4/</guid>
      <description>Analysoin alkukuusta Liikenneviraston henkilöliikennetutkimuksen tulostaulukoista. Tutkimuksessa on tehty lisäotoksia niistä maksaneille kaupunkiseuduille, kaupungille ja maakunnalle. Aluekohtaisia tuloksia on virallisesti julkaistu aluekohtaisissa raporteissa, mutta lisäotosten tietoja ei voi raporteista helposti verrata keskenään. On kuitenkin helppo lukea kaikki excelit samalla kertaa sisään ja ajaa niihin vuoronperään koodia R:n purrr-paketin map()-funktioilla.
Jotta saan käsityön minimoitua, lataan taulukot suoraan R:llä katsomatta nettisivua lainkaan. Lunttaan tosin käsipelillä kiinnostavan taulun nimen ja sarakkeiden sisällön.
library(tidyverse)library(rvest)# tekstinkäsittelyfunktiottekstit &amp;lt;- function(x) {x &amp;lt;- gsub(&amp;quot;_tulokset&amp;quot;, &amp;quot;&amp;quot;, x)x &amp;lt;- gsub(&amp;quot;_&amp;quot;, &amp;quot; &amp;quot;, x)x &amp;lt;- gsub(&amp;quot;ät Hä&amp;quot;, &amp;quot;ät-Hä&amp;quot;, x) # Päijät-Häme special}isoksi &amp;lt;- function(x) {y &amp;lt;- str_sub(x, 1, 1)paste0(toupper(y), str_sub(x, 2, nchar(x)))}# sama linkki kuin ylempänä tekstissätulossivu &amp;lt;- read_html(&amp;quot;https://www.</description>
    </item>
    
    <item>
      <title>Keskilämpötilan muutos kuukausittain Oulussa 1955–2018</title>
      <link>/2018/09/26/2018-09-26-keskil%C3%A4mp%C3%B6tilan-muutos-kuukausittain-oulussa-1955-2018/</link>
      <pubDate>Wed, 26 Sep 2018 00:00:00 +0000</pubDate>
      
      <guid>/2018/09/26/2018-09-26-keskil%C3%A4mp%C3%B6tilan-muutos-kuukausittain-oulussa-1955-2018/</guid>
      <description>Analyysiä hieman tarkennettu aamulla 27.9.2018.
Olen syntynyt 1980-luvulla. Muistelen lapsuuteni talvia lumisina ja kylminä. Samalla muistan tältä vuosikymmeneltä talvia, joilloin yhtäjaksoista pakkasjaksoa ei kestänyt kuin muutaman viikon, tai siltä ainakin tuntuu. Olen lähes koko ikäni ajanut kaikki arkimatkani talvisinkin polkupyörällä ja minusta tuntuu, että pyöräily Oulun talvessa on ollut tällä vuosikymmenellä vaikeampaa kuin koskaan ennen. Muutama vuosi sitten aloin käyttää ensimmäistä kertaa pyörässäni nastarenkaita, koska lämpimästä säästä johtuvia liukkaita kelejä oli niin paljon.</description>
    </item>
    
  </channel>
</rss>